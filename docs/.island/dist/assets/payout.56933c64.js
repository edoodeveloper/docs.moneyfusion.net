import{jsx as n,jsxs as l,Fragment as c}from"react/jsx-runtime";const d=void 0,a=[{id:"authentication",text:"Authentication",depth:2},{id:"withdrawal-endpoint",text:"Withdrawal Endpoint",depth:2},{id:"request-body-json",text:"Request Body (JSON)",depth:3},{id:"supported-withdrawal-methods-withdraw_mode",text:"Supported Withdrawal Methods (withdraw_mode)",depth:2},{id:"webhooks",text:"Webhooks",depth:2},{id:"sample-webhook-payload",text:"Sample Webhook Payload",depth:3},{id:"possible-events",text:"Possible Events",depth:3},{id:"code-example-nodejs--express",text:"Code Example (Node.js / Express)",depth:2}],i="Money Fusion \u2013 Withdrawal Integration and Webhook";function o(r){const e=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",hr:"hr",h2:"h2",img:"img",ol:"ol",li:"li",div:"div",button:"button",span:"span",pre:"pre",code:"code",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},r.components);return l(c,{children:[l(e.h1,{id:"money-fusion--withdrawal-integration-and-webhook",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#money-fusion--withdrawal-integration-and-webhook",children:"#"}),"Money Fusion \u2013 Withdrawal Integration and Webhook"]}),`
`,l(e.p,{children:["This documentation explains how to integrate ",n(e.strong,{children:"Money Fusion's withdrawal API"})," and how to manage ",n(e.strong,{children:"webhooks"})," related to withdrawal events."]}),`
`,n(e.hr,{}),`
`,l(e.h2,{id:"authentication",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#authentication",children:"#"}),"Authentication"]}),`
`,n(e.p,{children:n(e.img,{src:"https://sc-digital.nyc3.cdn.digitaloceanspaces.com/sc-digital/images/1753185228523-api_key_docs.png",alt:"Authentication Illustration"})}),`
`,l(e.p,{children:["Before making a withdrawal request, you must (go to the ",n(e.strong,{children:"Settings"})," section):"]}),`
`,l(e.ol,{children:[`
`,l(e.li,{children:[n(e.strong,{children:"Generate an API key"})," from your Money Fusion dashboard."]}),`
`,l(e.li,{children:[n(e.strong,{children:"Add your server's IP address"})," (the one sending the request) in the dashboard."]}),`
`,n(e.li,{children:"Include this API key in the HTTP request headers:"}),`
`]}),`
`,l(e.div,{className:"language-md",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"md"}),n(e.pre,{children:l(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#D8DEE9FF"},children:"Authorization: Bearer YOUR_API_KEY"})}),`
`,n(e.span,{className:"line",children:n(e.span,{style:{color:"#D8DEE9FF"},children:"Content-Type: application/json"})}),`
`,n(e.span,{className:"line"})]})})]}),`
`,n(e.hr,{}),`
`,l(e.h2,{id:"withdrawal-endpoint",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#withdrawal-endpoint",children:"#"}),"Withdrawal Endpoint"]}),`
`,l(e.p,{children:[n(e.strong,{children:"POST"})," ",n(e.code,{children:"https://pay.moneyfusion.net/api/v1/withdraw"})]}),`
`,l(e.h3,{id:"request-body-json",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#request-body-json",children:"#"}),"Request Body (JSON)"]}),`
`,l(e.div,{className:"language-json",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"json"}),n(e.pre,{children:l(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#ECEFF4"},children:"{"})}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"countryCode"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"ci"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"phone"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"05xxxxxxxxx"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"amount"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#B48EAD"},children:"200"}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"withdraw_mode"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"mtn-ci"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"webhook_url"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"https://your-server.com/api/withdraw/callback"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'})]}),`
`,n(e.span,{className:"line",children:n(e.span,{style:{color:"#ECEFF4"},children:"}"})}),`
`,n(e.span,{className:"line"})]})})]}),`
`,l(e.table,{children:[n(e.thead,{children:l(e.tr,{children:[n(e.th,{children:"Field"}),n(e.th,{children:"Type"}),n(e.th,{children:"Required"}),n(e.th,{children:"Description"})]})}),l(e.tbody,{children:[l(e.tr,{children:[n(e.td,{children:n(e.code,{children:"countryCode"})}),n(e.td,{children:n(e.code,{children:"string"})}),n(e.td,{children:"\u2705"}),l(e.td,{children:["Country code (e.g., ",n(e.code,{children:"ci"})," for C\xF4te d\u2019Ivoire)"]})]}),l(e.tr,{children:[n(e.td,{children:n(e.code,{children:"phone"})}),n(e.td,{children:n(e.code,{children:"string"})}),n(e.td,{children:"\u2705"}),n(e.td,{children:"Phone number to withdraw to"})]}),l(e.tr,{children:[n(e.td,{children:n(e.code,{children:"amount"})}),n(e.td,{children:n(e.code,{children:"number"})}),n(e.td,{children:"\u2705"}),n(e.td,{children:"Amount to withdraw"})]}),l(e.tr,{children:[n(e.td,{children:n(e.code,{children:"withdraw_mode"})}),n(e.td,{children:n(e.code,{children:"string"})}),n(e.td,{children:"\u2705"}),n(e.td,{children:"Withdrawal method"})]}),l(e.tr,{children:[n(e.td,{children:n(e.code,{children:"webhook_url"})}),n(e.td,{children:n(e.code,{children:"string"})}),n(e.td,{children:"NO"}),n(e.td,{children:"URL to which Money Fusion will send the notification"})]})]})]}),`
`,n(e.hr,{}),`
`,l(e.h2,{id:"supported-withdrawal-methods-withdraw_mode",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#supported-withdrawal-methods-withdraw_mode",children:"#"}),"Supported Withdrawal Methods (",n(e.code,{children:"withdraw_mode"}),")"]}),`
`,l(e.p,{children:["Here are the supported values for ",n(e.code,{children:"withdraw_mode"})," and ",n(e.code,{children:"countryCode"}),":"]}),`
`,l(e.table,{children:[n(e.thead,{children:l(e.tr,{children:[n(e.th,{children:"Country"}),n(e.th,{children:n(e.code,{children:"countryCode"})}),n(e.th,{children:n(e.code,{children:"withdraw_mode"})})]})}),l(e.tbody,{children:[l(e.tr,{children:[n(e.td,{children:"C\xF4te d'Ivoire"}),n(e.td,{children:n(e.code,{children:"ci"})}),l(e.td,{children:[n(e.code,{children:"orange-money-ci"})," / ",n(e.code,{children:"mtn-ci"})," / ",n(e.code,{children:"moov-ci"})," / ",n(e.code,{children:"wave-ci"})]})]}),l(e.tr,{children:[n(e.td,{children:"Senegal"}),n(e.td,{children:n(e.code,{children:"sn"})}),l(e.td,{children:[n(e.code,{children:"orange-money-senegal"})," / ",n(e.code,{children:"free-money-senegal"})," / ",n(e.code,{children:"wave-senegal"})," / ",n(e.code,{children:"expresso-senegal"})]})]}),l(e.tr,{children:[n(e.td,{children:"Burkina Faso"}),n(e.td,{children:n(e.code,{children:"bf"})}),l(e.td,{children:[n(e.code,{children:"orange-money-burkina"})," / ",n(e.code,{children:"moov-burkina-faso"})]})]}),l(e.tr,{children:[n(e.td,{children:"Benin"}),n(e.td,{children:n(e.code,{children:"bj"})}),l(e.td,{children:[n(e.code,{children:"mtn-benin"})," / ",n(e.code,{children:"moov-benin"})]})]}),l(e.tr,{children:[n(e.td,{children:"Togo"}),n(e.td,{children:n(e.code,{children:"tg"})}),l(e.td,{children:[n(e.code,{children:"t-money-togo"})," / ",n(e.code,{children:"moov-togo"})]})]}),l(e.tr,{children:[n(e.td,{children:"Mali"}),n(e.td,{children:n(e.code,{children:"ml"})}),n(e.td,{children:n(e.code,{children:"orange-money-mali"})})]})]})]}),`
`,n(e.hr,{}),`
`,l(e.h2,{id:"webhooks",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#webhooks",children:"#"}),"Webhooks"]}),`
`,l(e.p,{children:["Your server must ",n(e.strong,{children:"listen for the following events"})," on the ",n(e.code,{children:"webhook_url"})," you provided:"]}),`
`,l(e.div,{className:"language-text",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"text"}),n(e.pre,{children:l(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#d8dee9ff"},children:"- payout.session.completed"})}),`
`,n(e.span,{className:"line",children:n(e.span,{style:{color:"#d8dee9ff"},children:"- payout.session.cancelled"})}),`
`,n(e.span,{className:"line",children:n(e.span,{style:{color:"#d8dee9ff"}})})]})})]}),`
`,l(e.h3,{id:"sample-webhook-payload",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#sample-webhook-payload",children:"#"}),"Sample Webhook Payload"]}),`
`,l(e.div,{className:"language-json",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"json"}),n(e.pre,{children:l(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#ECEFF4"},children:"{"})}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"event"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"payout.session.cancelled"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"montant"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#B48EAD"},children:"205"}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"numeroRetrait"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"07xxxxxxxxx"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"moyen"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"orange-money-ci"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"webhook_url"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"https://votre-serveur.com/api/withdraw/callback"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"createdAt"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"2025-07-17T17:35:23.468Z"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'})]}),`
`,n(e.span,{className:"line",children:n(e.span,{style:{color:"#ECEFF4"},children:"}"})}),`
`,n(e.span,{className:"line"})]})})]}),`
`,l(e.h3,{id:"possible-events",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#possible-events",children:"#"}),"Possible Events"]}),`
`,l(e.table,{children:[n(e.thead,{children:l(e.tr,{children:[n(e.th,{children:"Event"}),n(e.th,{children:"Description"})]})}),l(e.tbody,{children:[l(e.tr,{children:[n(e.td,{children:n(e.code,{children:"payout.session.completed"})}),n(e.td,{children:"The withdrawal was successfully processed"})]}),l(e.tr,{children:[n(e.td,{children:n(e.code,{children:"payout.session.cancelled"})}),n(e.td,{children:"The withdrawal failed or was canceled"})]})]})]}),`
`,n(e.hr,{}),`
`,l(e.h2,{id:"code-example-nodejs--express",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#code-example-nodejs--express",children:"#"}),"Code Example (Node.js / Express)"]}),`
`,l(e.div,{className:"language-js",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"js"}),n(e.pre,{children:l(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#616E88"},children:"// Webhook Endpoint"})}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9"},children:"app"}),n(e.span,{style:{color:"#ECEFF4"},children:"."}),n(e.span,{style:{color:"#88C0D0"},children:"post"}),n(e.span,{style:{color:"#D8DEE9FF"},children:"("}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"/api/withdraw/callback"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:"("}),n(e.span,{style:{color:"#D8DEE9"},children:"req"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"res"}),n(e.span,{style:{color:"#ECEFF4"},children:")"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"=>"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#81A1C1"},children:"const"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:"{"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"event"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"montant"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"numeroRetrait"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"moyen"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"createdAt"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:"}"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"="}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"req"}),n(e.span,{style:{color:"#ECEFF4"},children:"."}),n(e.span,{style:{color:"#D8DEE9"},children:"body"}),n(e.span,{style:{color:"#81A1C1"},children:";"})]}),`
`,n(e.span,{className:"line"}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#81A1C1"},children:"if"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" ("}),n(e.span,{style:{color:"#D8DEE9"},children:"event"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"==="}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"payout.session.completed"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#D8DEE9FF"},children:") "}),n(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#ECEFF4"},children:"    "}),n(e.span,{style:{color:"#616E88"},children:"// Mark the withdrawal as successful in your DB"})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:"}"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"else"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"if"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" ("}),n(e.span,{style:{color:"#D8DEE9"},children:"event"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"==="}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"payout.session.cancelled"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#D8DEE9FF"},children:") "}),n(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#ECEFF4"},children:"    "}),n(e.span,{style:{color:"#616E88"},children:"// Mark the withdrawal as failed in your DB"})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:"}"})]}),`
`,l(e.span,{className:"line",children:[n(e.span,{style:{color:"#ECEFF4"},children:"}"}),n(e.span,{style:{color:"#D8DEE9FF"},children:")"}),n(e.span,{style:{color:"#81A1C1"},children:";"})]}),`
`,n(e.span,{className:"line"})]})})]})]})}function t(r={}){const{wrapper:e}=r.components||{};return e?n(e,Object.assign({},r,{children:n(o,r)})):o(r)}const h="2025/7/22 19:13:28",p='# Money Fusion \u2013 Withdrawal Integration and Webhook\r\n\r\nThis documentation explains how to integrate **Money Fusion\'s withdrawal API** and how to manage **webhooks** related to withdrawal events.\r\n\r\n---\r\n\r\n## Authentication\r\n\r\n![Authentication Illustration](https://sc-digital.nyc3.cdn.digitaloceanspaces.com/sc-digital/images/1753185228523-api_key_docs.png)\r\n\r\nBefore making a withdrawal request, you must (go to the **Settings** section):\r\n\r\n1. **Generate an API key** from your Money Fusion dashboard.\r\n2. **Add your server\'s IP address** (the one sending the request) in the dashboard.\r\n3. Include this API key in the HTTP request headers:\r\n\r\n```md\r\nAuthorization: Bearer YOUR_API_KEY\r\nContent-Type: application/json\r\n```\r\n\r\n---\r\n\r\n## Withdrawal Endpoint\r\n\r\n**POST** `https://pay.moneyfusion.net/api/v1/withdraw`\r\n\r\n### Request Body (JSON)\r\n\r\n```json\r\n{\r\n  "countryCode": "ci",\r\n  "phone": "05xxxxxxxxx",\r\n  "amount": 200,\r\n  "withdraw_mode": "mtn-ci",\r\n  "webhook_url": "https://your-server.com/api/withdraw/callback"\r\n}\r\n```\r\n\r\n| Field           | Type     | Required | Description                                          |\r\n| --------------- | -------- | -------- | ---------------------------------------------------- |\r\n| `countryCode`   | `string` | \u2705       | Country code (e.g., `ci` for C\xF4te d\u2019Ivoire)          |\r\n| `phone`         | `string` | \u2705       | Phone number to withdraw to                          |\r\n| `amount`        | `number` | \u2705       | Amount to withdraw                                   |\r\n| `withdraw_mode` | `string` | \u2705       | Withdrawal method                                    |\r\n| `webhook_url`   | `string` | NO       | URL to which Money Fusion will send the notification |\r\n\r\n---\r\n\r\n## Supported Withdrawal Methods (`withdraw_mode`)\r\n\r\nHere are the supported values for `withdraw_mode` and `countryCode`:\r\n\r\n| Country       | `countryCode` | `withdraw_mode`                                                                     |\r\n| ------------- | ------------- | ----------------------------------------------------------------------------------- |\r\n| C\xF4te d\'Ivoire | `ci`          | `orange-money-ci` / `mtn-ci` / `moov-ci` / `wave-ci`                                |\r\n| Senegal       | `sn`          | `orange-money-senegal` / `free-money-senegal` / `wave-senegal` / `expresso-senegal` |\r\n| Burkina Faso  | `bf`          | `orange-money-burkina` / `moov-burkina-faso`                                        |\r\n| Benin         | `bj`          | `mtn-benin` / `moov-benin`                                                          |\r\n| Togo          | `tg`          | `t-money-togo` / `moov-togo`                                                        |\r\n| Mali          | `ml`          | `orange-money-mali`                                                                 |\r\n\r\n---\r\n\r\n## Webhooks\r\n\r\nYour server must **listen for the following events** on the `webhook_url` you provided:\r\n\r\n```text\r\n- payout.session.completed\r\n- payout.session.cancelled\r\n```\r\n\r\n### Sample Webhook Payload\r\n\r\n```json\r\n{\r\n  "event": "payout.session.cancelled",\r\n  "montant": 205,\r\n  "numeroRetrait": "07xxxxxxxxx",\r\n  "moyen": "orange-money-ci",\r\n  "webhook_url": "https://votre-serveur.com/api/withdraw/callback",\r\n  "createdAt": "2025-07-17T17:35:23.468Z"\r\n}\r\n```\r\n\r\n### Possible Events\r\n\r\n| Event                      | Description                               |\r\n| -------------------------- | ----------------------------------------- |\r\n| `payout.session.completed` | The withdrawal was successfully processed |\r\n| `payout.session.cancelled` | The withdrawal failed or was canceled     |\r\n\r\n---\r\n\r\n## Code Example (Node.js / Express)\r\n\r\n```js\r\n// Webhook Endpoint\r\napp.post("/api/withdraw/callback", (req, res) => {\r\n  const { event, montant, numeroRetrait, moyen, createdAt } = req.body;\r\n\r\n  if (event === "payout.session.completed") {\r\n    // Mark the withdrawal as successful in your DB\r\n  } else if (event === "payout.session.cancelled") {\r\n    // Mark the withdrawal as failed in your DB\r\n  }\r\n});\r\n```\r\n';export{p as content,t as default,d as frontmatter,h as lastUpdatedTime,i as title,a as toc};
