import{jsx as n,jsxs as r,Fragment as c}from"react/jsx-runtime";const i=void 0,t=[{id:"authentification",text:"Authentification",depth:2},{id:"endpoint-de-retrait",text:"Endpoint de retrait",depth:2},{id:"corps-de-la-requ\xEAte-json",text:"Corps de la requ\xEAte (JSON)",depth:3},{id:"m\xE9thodes-de-retrait-prises-en-charge-withdraw_mode",text:"M\xE9thodes de retrait prises en charge (withdraw_mode)",depth:2},{id:"webhooks",text:"Webhooks",depth:2},{id:"exemple-de-payload-webhook-",text:"Exemple de payload webhook :",depth:3},{id:"\xE9v\xE9nements-possibles",text:"\xC9v\xE9nements possibles",depth:3},{id:"exemple-de-code-nodejs--express",text:"Exemple de code (Node.js / Express)",depth:2}],d="Money Fusion \u2013 Int\xE9gration du Retrait et Webhook";function o(l){const e=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",hr:"hr",h2:"h2",img:"img",ol:"ol",li:"li",div:"div",button:"button",span:"span",pre:"pre",code:"code",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},l.components);return r(c,{children:[r(e.h1,{id:"money-fusion--int\xE9gration-du-retrait-et-webhook",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#money-fusion--int\xE9gration-du-retrait-et-webhook",children:"#"}),"Money Fusion \u2013 Int\xE9gration du Retrait et Webhook"]}),`
`,r(e.p,{children:["Cette documentation d\xE9crit comment int\xE9grer l'API de retrait de ",n(e.strong,{children:"Money Fusion"})," ainsi que la gestion des ",n(e.strong,{children:"webhooks"})," li\xE9s aux \xE9v\xE9nements de retrait."]}),`
`,n(e.hr,{}),`
`,r(e.h2,{id:"authentification",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#authentification",children:"#"}),"Authentification"]}),`
`,n(e.p,{children:n(e.img,{src:"https://sc-digital.nyc3.cdn.digitaloceanspaces.com/sc-digital/images/1753185228523-api_key_docs.png",alt:"Illustration Authentification"})}),`
`,r(e.p,{children:["Avant de faire une requ\xEAte de retrait, vous devez (Allez dans la section ",n(e.strong,{children:"Param\xE8tre"}),") :"]}),`
`,r(e.ol,{children:[`
`,r(e.li,{children:[n(e.strong,{children:"G\xE9n\xE9rer une cl\xE9 API"})," depuis votre tableau de bord Money Fusion."]}),`
`,r(e.li,{children:[n(e.strong,{children:"Ajouter l'adresse IP de votre serveur"})," (qui initie la requ\xEAte) dans votre dashboard."]}),`
`,n(e.li,{children:"Inclure cette cl\xE9 API dans l\u2019en-t\xEAte des requ\xEAtes HTTP :"}),`
`]}),`
`,r(e.div,{className:"language-md",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"md"}),n(e.pre,{children:r(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#D8DEE9FF"},children:"Authorization: Bearer VOTRE_CLE_API"})}),`
`,n(e.span,{className:"line",children:n(e.span,{style:{color:"#D8DEE9FF"},children:"Content-Type: application/json"})}),`
`,n(e.span,{className:"line"})]})})]}),`
`,n(e.hr,{}),`
`,r(e.h2,{id:"endpoint-de-retrait",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#endpoint-de-retrait",children:"#"}),"Endpoint de retrait"]}),`
`,r(e.p,{children:[n(e.strong,{children:"POST"})," ",n(e.code,{children:"https://pay.moneyfusion.net/api/v1/withdraw"})]}),`
`,r(e.h3,{id:"corps-de-la-requ\xEAte-json",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#corps-de-la-requ\xEAte-json",children:"#"}),"Corps de la requ\xEAte (JSON)"]}),`
`,r(e.div,{className:"language-json",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"json"}),n(e.pre,{children:r(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#ECEFF4"},children:"{"})}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"countryCode"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"ci"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"phone"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"05xxxxxxxxx"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#616E88"},children:"// MTN"})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"amount"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#B48EAD"},children:"200"}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"withdraw_mode"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"mtn-ci"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"webhook_url"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"https://votre-serveur.com/api/withdraw/callback"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'})]}),`
`,n(e.span,{className:"line",children:n(e.span,{style:{color:"#ECEFF4"},children:"}"})}),`
`,n(e.span,{className:"line"})]})})]}),`
`,r(e.table,{children:[n(e.thead,{children:r(e.tr,{children:[n(e.th,{children:"Champ"}),n(e.th,{children:"Type"}),n(e.th,{children:"Obligatoire"}),n(e.th,{children:"Description"})]})}),r(e.tbody,{children:[r(e.tr,{children:[n(e.td,{children:n(e.code,{children:"countryCode"})}),n(e.td,{children:n(e.code,{children:"string"})}),n(e.td,{children:"\u2705"}),r(e.td,{children:["Code du pays (ex: ",n(e.code,{children:"ci"})," pour C\xF4te d\u2019Ivoire)"]})]}),r(e.tr,{children:[n(e.td,{children:n(e.code,{children:"phone"})}),n(e.td,{children:n(e.code,{children:"string"})}),n(e.td,{children:"\u2705"}),n(e.td,{children:"Num\xE9ro \xE0 retirer"})]}),r(e.tr,{children:[n(e.td,{children:n(e.code,{children:"amount"})}),n(e.td,{children:n(e.code,{children:"number"})}),n(e.td,{children:"\u2705"}),n(e.td,{children:"Montant \xE0 retirer"})]}),r(e.tr,{children:[n(e.td,{children:n(e.code,{children:"withdraw_mode"})}),n(e.td,{children:n(e.code,{children:"string"})}),n(e.td,{children:"\u2705"}),n(e.td,{children:"M\xE9thode de retrait"})]}),r(e.tr,{children:[n(e.td,{children:n(e.code,{children:"webhook_url"})}),n(e.td,{children:n(e.code,{children:"string"})}),n(e.td,{children:"NON"}),n(e.td,{children:"URL vers laquelle Money Fusion enverra la notification"})]})]})]}),`
`,n(e.hr,{}),`
`,r(e.h2,{id:"m\xE9thodes-de-retrait-prises-en-charge-withdraw_mode",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#m\xE9thodes-de-retrait-prises-en-charge-withdraw_mode",children:"#"}),"M\xE9thodes de retrait prises en charge (",n(e.code,{children:"withdraw_mode"}),")"]}),`
`,r(e.p,{children:["Voici les valeurs support\xE9es pour les champs ",n(e.code,{children:"withdraw_mode"})," et ",n(e.code,{children:"countryCode"})," :"]}),`
`,r(e.table,{children:[n(e.thead,{children:r(e.tr,{children:[n(e.th,{children:"Country"}),n(e.th,{children:n(e.code,{children:"countryCode"})}),n(e.th,{children:n(e.code,{children:"withdraw_mode"})})]})}),r(e.tbody,{children:[r(e.tr,{children:[n(e.td,{children:"C\xF4te d'Ivoire"}),n(e.td,{children:n(e.code,{children:"ci"})}),r(e.td,{children:[n(e.code,{children:"orange-money-ci"})," / ",n(e.code,{children:"mtn-ci"})," / ",n(e.code,{children:"moov-ci"})," / ",n(e.code,{children:"wave-ci"})]})]}),r(e.tr,{children:[n(e.td,{children:"Senegal"}),n(e.td,{children:n(e.code,{children:"sn"})}),r(e.td,{children:[n(e.code,{children:"orange-money-senegal"})," / ",n(e.code,{children:"free-money-senegal"})," / ",n(e.code,{children:"wave-senegal"})," / ",n(e.code,{children:"expresso-senegal"})]})]}),r(e.tr,{children:[n(e.td,{children:"Burkina Faso"}),n(e.td,{children:n(e.code,{children:"bf"})}),r(e.td,{children:[n(e.code,{children:"orange-money-burkina"})," / ",n(e.code,{children:"moov-burkina-faso"})]})]}),r(e.tr,{children:[n(e.td,{children:"Benin"}),n(e.td,{children:n(e.code,{children:"bj"})}),r(e.td,{children:[n(e.code,{children:"mtn-benin"})," / ",n(e.code,{children:"moov-benin"})]})]}),r(e.tr,{children:[n(e.td,{children:"Togo"}),n(e.td,{children:n(e.code,{children:"tg"})}),r(e.td,{children:[n(e.code,{children:"t-money-togo"})," / ",n(e.code,{children:"moov-togo"})]})]}),r(e.tr,{children:[n(e.td,{children:"Mali"}),n(e.td,{children:n(e.code,{children:"ml"})}),n(e.td,{children:n(e.code,{children:"orange-money-mali"})})]})]})]}),`
`,n(e.hr,{}),`
`,r(e.h2,{id:"webhooks",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#webhooks",children:"#"}),"Webhooks"]}),`
`,r(e.p,{children:["Votre serveur doit ",n(e.strong,{children:"\xE9couter les \xE9v\xE9nements suivants"})," via l\u2019URL ",n(e.code,{children:"webhook_url"})," fournie :"]}),`
`,r(e.div,{className:"language-js",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"js"}),n(e.pre,{children:r(e.code,{className:"",children:[r(e.span,{className:"line",children:[n(e.span,{style:{color:"#81A1C1"},children:"-"}),n(e.span,{style:{color:"#D8DEE9"},children:"payout"}),n(e.span,{style:{color:"#ECEFF4"},children:"."}),n(e.span,{style:{color:"#D8DEE9"},children:"session"}),n(e.span,{style:{color:"#ECEFF4"},children:"."}),n(e.span,{style:{color:"#D8DEE9"},children:"completed"}),n(e.span,{style:{color:"#81A1C1"},children:";"})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#81A1C1"},children:"-"}),n(e.span,{style:{color:"#D8DEE9"},children:"payout"}),n(e.span,{style:{color:"#ECEFF4"},children:"."}),n(e.span,{style:{color:"#D8DEE9"},children:"session"}),n(e.span,{style:{color:"#ECEFF4"},children:"."}),n(e.span,{style:{color:"#D8DEE9"},children:"cancelled"}),n(e.span,{style:{color:"#81A1C1"},children:";"})]}),`
`,n(e.span,{className:"line"})]})})]}),`
`,r(e.h3,{id:"exemple-de-payload-webhook-",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#exemple-de-payload-webhook-",children:"#"}),"Exemple de payload webhook :"]}),`
`,r(e.div,{className:"language-json",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"json"}),n(e.pre,{children:r(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#ECEFF4"},children:"{"})}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"event"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"payout.session.cancelled"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"montant"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#B48EAD"},children:"205"}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"numeroRetrait"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"07xxxxxxxxx"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"moyen"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"orange-money-ci"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"webhook_url"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"https://votre-serveur.com/api/withdraw/callback"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#8FBCBB"},children:"createdAt"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:":"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"2025-07-17T17:35:23.468Z"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'})]}),`
`,n(e.span,{className:"line",children:n(e.span,{style:{color:"#ECEFF4"},children:"}"})}),`
`,n(e.span,{className:"line"})]})})]}),`
`,r(e.h3,{id:"\xE9v\xE9nements-possibles",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\xE9v\xE9nements-possibles",children:"#"}),"\xC9v\xE9nements possibles"]}),`
`,r(e.table,{children:[n(e.thead,{children:r(e.tr,{children:[n(e.th,{children:"\xC9v\xE9nement"}),n(e.th,{children:"Description"})]})}),r(e.tbody,{children:[r(e.tr,{children:[n(e.td,{children:n(e.code,{children:"payout.session.completed"})}),n(e.td,{children:"Le retrait a \xE9t\xE9 effectu\xE9 avec succ\xE8s"})]}),r(e.tr,{children:[n(e.td,{children:n(e.code,{children:"payout.session.cancelled"})}),n(e.td,{children:"Le retrait a \xE9chou\xE9 ou a \xE9t\xE9 annul\xE9"})]})]})]}),`
`,n(e.hr,{}),`
`,r(e.h2,{id:"exemple-de-code-nodejs--express",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#exemple-de-code-nodejs--express",children:"#"}),"Exemple de code (Node.js / Express)"]}),`
`,r(e.div,{className:"language-js",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"js"}),n(e.pre,{children:r(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#616E88"},children:"// Endpoint Webhook"})}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9"},children:"app"}),n(e.span,{style:{color:"#ECEFF4"},children:"."}),n(e.span,{style:{color:"#88C0D0"},children:"post"}),n(e.span,{style:{color:"#D8DEE9FF"},children:"("}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"/api/withdraw/callback"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:"("}),n(e.span,{style:{color:"#D8DEE9"},children:"req"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"res"}),n(e.span,{style:{color:"#ECEFF4"},children:")"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"=>"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#81A1C1"},children:"const"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:"{"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"event"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"montant"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"numeroRetrait"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"moyen"}),n(e.span,{style:{color:"#ECEFF4"},children:","}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"createdAt"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:"}"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"="}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#D8DEE9"},children:"req"}),n(e.span,{style:{color:"#ECEFF4"},children:"."}),n(e.span,{style:{color:"#D8DEE9"},children:"body"}),n(e.span,{style:{color:"#81A1C1"},children:";"})]}),`
`,n(e.span,{className:"line"}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#81A1C1"},children:"if"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" ("}),n(e.span,{style:{color:"#D8DEE9"},children:"event"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"==="}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"payout.session.completed"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#D8DEE9FF"},children:") "}),n(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#ECEFF4"},children:"    "}),n(e.span,{style:{color:"#616E88"},children:"// Marquez le retrait comme r\xE9ussi dans votre DB"})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:"}"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"else"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"if"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" ("}),n(e.span,{style:{color:"#D8DEE9"},children:"event"}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#81A1C1"},children:"==="}),n(e.span,{style:{color:"#D8DEE9FF"},children:" "}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"payout.session.cancelled"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#D8DEE9FF"},children:") "}),n(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#ECEFF4"},children:"    "}),n(e.span,{style:{color:"#616E88"},children:"// Mettez \xE0 jour le retrait comme \xE9chou\xE9"})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),n(e.span,{style:{color:"#ECEFF4"},children:"}"})]}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#ECEFF4"},children:"}"}),n(e.span,{style:{color:"#D8DEE9FF"},children:")"}),n(e.span,{style:{color:"#81A1C1"},children:";"})]}),`
`,n(e.span,{className:"line"})]})})]})]})}function a(l={}){const{wrapper:e}=l.components||{};return e?n(e,Object.assign({},l,{children:n(o,l)})):o(l)}const h="2025/7/22 19:13:28",p='# Money Fusion \u2013 Int\xE9gration du Retrait et Webhook\r\n\r\nCette documentation d\xE9crit comment int\xE9grer l\'API de retrait de **Money Fusion** ainsi que la gestion des **webhooks** li\xE9s aux \xE9v\xE9nements de retrait.\r\n\r\n---\r\n\r\n## Authentification\r\n\r\n![Illustration Authentification](https://sc-digital.nyc3.cdn.digitaloceanspaces.com/sc-digital/images/1753185228523-api_key_docs.png)\r\n\r\nAvant de faire une requ\xEAte de retrait, vous devez (Allez dans la section **Param\xE8tre**) :\r\n\r\n1. **G\xE9n\xE9rer une cl\xE9 API** depuis votre tableau de bord Money Fusion.\r\n2. **Ajouter l\'adresse IP de votre serveur** (qui initie la requ\xEAte) dans votre dashboard.\r\n3. Inclure cette cl\xE9 API dans l\u2019en-t\xEAte des requ\xEAtes HTTP :\r\n\r\n```md\r\nAuthorization: Bearer VOTRE_CLE_API\r\nContent-Type: application/json\r\n```\r\n\r\n---\r\n\r\n## Endpoint de retrait\r\n\r\n**POST** `https://pay.moneyfusion.net/api/v1/withdraw`\r\n\r\n### Corps de la requ\xEAte (JSON)\r\n\r\n```json\r\n{\r\n  "countryCode": "ci",\r\n  "phone": "05xxxxxxxxx", // MTN\r\n  "amount": 200,\r\n  "withdraw_mode": "mtn-ci",\r\n  "webhook_url": "https://votre-serveur.com/api/withdraw/callback"\r\n}\r\n```\r\n\r\n| Champ           | Type     | Obligatoire | Description                                            |\r\n| --------------- | -------- | ----------- | ------------------------------------------------------ |\r\n| `countryCode`   | `string` | \u2705          | Code du pays (ex: `ci` pour C\xF4te d\u2019Ivoire)             |\r\n| `phone`         | `string` | \u2705          | Num\xE9ro \xE0 retirer                                       |\r\n| `amount`        | `number` | \u2705          | Montant \xE0 retirer                                      |\r\n| `withdraw_mode` | `string` | \u2705          | M\xE9thode de retrait                                     |\r\n| `webhook_url`   | `string` | NON         | URL vers laquelle Money Fusion enverra la notification |\r\n\r\n---\r\n\r\n## M\xE9thodes de retrait prises en charge (`withdraw_mode`)\r\n\r\nVoici les valeurs support\xE9es pour les champs `withdraw_mode` et `countryCode` :\r\n\r\n| Country       | `countryCode` | `withdraw_mode`                                                                     |\r\n| ------------- | ------------- | ----------------------------------------------------------------------------------- |\r\n| C\xF4te d\'Ivoire | `ci`          | `orange-money-ci` / `mtn-ci` / `moov-ci` / `wave-ci`                                |\r\n| Senegal       | `sn`          | `orange-money-senegal` / `free-money-senegal` / `wave-senegal` / `expresso-senegal` |\r\n| Burkina Faso  | `bf`          | `orange-money-burkina` / `moov-burkina-faso`                                        |\r\n| Benin         | `bj`          | `mtn-benin` / `moov-benin`                                                          |\r\n| Togo          | `tg`          | `t-money-togo` / `moov-togo`                                                        |\r\n| Mali          | `ml`          | `orange-money-mali`                                                                 |\r\n\r\n---\r\n\r\n## Webhooks\r\n\r\nVotre serveur doit **\xE9couter les \xE9v\xE9nements suivants** via l\u2019URL `webhook_url` fournie :\r\n\r\n```js\r\n-payout.session.completed;\r\n-payout.session.cancelled;\r\n```\r\n\r\n### Exemple de payload webhook :\r\n\r\n```json\r\n{\r\n  "event": "payout.session.cancelled",\r\n  "montant": 205,\r\n  "numeroRetrait": "07xxxxxxxxx",\r\n  "moyen": "orange-money-ci",\r\n  "webhook_url": "https://votre-serveur.com/api/withdraw/callback",\r\n  "createdAt": "2025-07-17T17:35:23.468Z"\r\n}\r\n```\r\n\r\n### \xC9v\xE9nements possibles\r\n\r\n| \xC9v\xE9nement                  | Description                           |\r\n| -------------------------- | ------------------------------------- |\r\n| `payout.session.completed` | Le retrait a \xE9t\xE9 effectu\xE9 avec succ\xE8s |\r\n| `payout.session.cancelled` | Le retrait a \xE9chou\xE9 ou a \xE9t\xE9 annul\xE9   |\r\n\r\n---\r\n\r\n## Exemple de code (Node.js / Express)\r\n\r\n```js\r\n// Endpoint Webhook\r\napp.post("/api/withdraw/callback", (req, res) => {\r\n  const { event, montant, numeroRetrait, moyen, createdAt } = req.body;\r\n\r\n  if (event === "payout.session.completed") {\r\n    // Marquez le retrait comme r\xE9ussi dans votre DB\r\n  } else if (event === "payout.session.cancelled") {\r\n    // Mettez \xE0 jour le retrait comme \xE9chou\xE9\r\n  }\r\n});\r\n```\r\n';export{p as content,a as default,i as frontmatter,h as lastUpdatedTime,d as title,t as toc};
